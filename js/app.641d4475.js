(function(n){function e(e){for(var r,i,u=e[0],c=e[1],l=e[2],f=0,p=[];f<u.length;f++)i=u[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(n[r]=c[r]);s&&s(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),t()}function t(){for(var n,e=0;e<o.length;e++){for(var t=o[e],r=!0,u=1;u<t.length;u++){var c=t[u];0!==a[c]&&(r=!1)}r&&(o.splice(e--,1),n=i(i.s=t[0]))}return n}var r={},a={app:0},o=[];function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=r,i.d=function(n,e,t){i.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},i.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,e){if(1&e&&(n=i(n)),8&e)return n;if(4&e&&"object"===typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)i.d(t,r,function(e){return n[e]}.bind(null,r));return t},i.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return i.d(e,"a",e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p="/number-bonds-vue-cli/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var s=c;o.push([0,"chunk-vendors"]),t()})({0:function(n,e,t){n.exports=t("56d7")},"47de":function(n,e,t){n.exports=t.p+"fonts/Lobster-Regular.9406d0ab.ttf"},"56d7":function(n,e,t){"use strict";t.r(e);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("7a23");function a(n,e,t,a,o,i){var u=Object(r["i"])("Game");return Object(r["g"])(),Object(r["c"])(u)}var o={key:0},i=Object(r["e"])("h2",null,"Start game?",-1);function u(n,e,t,a,u,c){return Object(r["g"])(),Object(r["c"])(r["a"],null,[Object(r["e"])("canvas",{id:"gameCanvas",height:"500",width:"500",onClick:e[1]||(e[1]=function(){return a.gameCanvasClick&&a.gameCanvasClick.apply(a,arguments)})}),a.displayState.controls?(Object(r["g"])(),Object(r["c"])("div",o,[i,Object(r["e"])("div",null,[Object(r["e"])("button",{onClick:e[2]||(e[2]=function(){return a.startEasyGame&&a.startEasyGame.apply(a,arguments)})},"Easy")]),Object(r["e"])("div",null,[Object(r["e"])("button",{onClick:e[3]||(e[3]=function(){return a.startMediumGame&&a.startMediumGame.apply(a,arguments)})},"Medium")]),Object(r["e"])("div",null,[Object(r["e"])("button",{onClick:e[4]||(e[4]=function(){return a.startHardGame&&a.startHardGame.apply(a,arguments)})},"Hard")])])):Object(r["d"])("",!0)],64)}t("cb29"),t("4160"),t("159b"),t("96cf");var c=t("1da1"),l=(t("a623"),t("4de4"),t("7db0"),t("13d5"),t("45fc"),t("a434"),t("d3b7"),2*Math.PI);function s(n,e){var t,r,a=0,o=150,i=o/2,u=function(n){return{data:{calcNumber:n},isDisplayed:!0,path:null,popStartTime:null,popEndTime:null,hasBeenPlayed:!1}},c=function(){return t};function s(){return en&&tn}function f(){return en&&!tn}function p(){return a===r.length}var d=function(){return 0===t.filter((function(n){return n.isDisplayed})).length},m=function(){return"".concat(r[a])},v=function(n,e,r){return t.filter((function(n){return n.isDisplayed})).find((function(t){return n.isPointInPath(t.path,e,r)}))},h=function(n){return n.isMovingIn},b=9,g=20,y=1e3;function w(){return O(b,g,y)}function O(n,e,t){switch(T){case"easy":return n;case"medium":return e;default:return t}}var T,j=5;function M(n){T=n.toLowerCase(),r=[];for(var e=w(n),t=0;t<j;t++){var o=Math.round(Math.random()*e);r.push(o)}a=0,en=!1,C(!0)}var x=4;function C(n){var e=r[a],o=0;t=[];while(o<x){var i=Math.round(Math.random()*e);t.push(u(i)),t.push(u(e-i)),o++}E(),rn=G(n?new Date:rn,k())}var P=20,S=15,I=10;function k(){return O(P,S,I)}function E(){for(var n=[],e=t.length-1;e>=0;e--){var r=Math.round(Math.random())*(t.length-1);n.push(t[r]),t.splice(r,1)}t=n}function G(n,e){var t=new Date(n);return t.setSeconds(t.getSeconds()+e),t}function D(n,e,t){var r=v(n,e,t);r&&J(r)}function A(n,e){n.popStartTime=e,n.popEndTime=G(e,K)}function R(n,e){n.isMovingIn=!0,n.moveInStartTime=e,n.moveInEndTime=G(e,W)}function F(n,e){n.isMovingIn=!(n.isMovingOut=!0),n.moveOutStartTime=e,n.moveOutEndTime=G(e,W)}function B(n){return!q.some((function(e){return e.some((function(e){return e===n}))}))}var _=0;function L(n){q[_].push(n),R(n,new Date)}var H=2;function N(){q[_].length==H&&(_=(_+1)%x)}var q=[[],[],[],[]];function J(n){B(n)&&(L(n),N())}var W=1;function X(n,e){return n.isMovingIn?n.moveInEndTime<e?0:(n.moveInEndTime-e)/(1e3*W):n.isMovingOut?e>n.moveOutEndTime?1:(e-n.moveOutStartTime)/(1e3*W):1}var Y=10;function z(e,r){var a=t[e],u=X(a,r),c=i+(o-i)*u,s=l*((e+1)/t.length+r/(1e3*Y)),f=n.x+c*Math.sin(s),p=n.y+c*Math.cos(s);return new DOMPointReadOnly(f,p)}var K=1;function Q(n,e){var t=50;return null===n.popStartTime?t:t*(1+Math.sin((e-n.popStartTime)/(1e3*K)*(1.5*Math.PI)+Math.PI))}function U(n,e,t){var r=Q(n,t),a=new Path2D;return a.arc(e.x,e.y,r,0,l),n.path=a}var V=5,Z=3,$=2;function nn(){return O(V,Z,$)}var en,tn,rn,an=2,on=2,un=2;function cn(){return O(an,on,un)}function ln(n,t){var o=n.reduce((function(n,e){return n+e.data.calcNumber}),0);o===r[a]?(n.forEach((function(n){return A(n,t)})),new Promise((function(n){return setTimeout(n,1e3*K/3)})).then((function(){return e.pop.play()})),rn=G(rn,nn())):(n.forEach((function(n){return F(n,t)})),e.error.play(),rn=G(rn,-cn())),n.length=0}function sn(n,e){n.length===H&&n.every((function(n){return n.moveInEndTime<e}))&&ln(n,e)}function fn(n){q.forEach((function(e){return sn(e,n)}))}function pn(n){n?e.clap.play():e.boo.play(),en=!0,tn=n}function dn(n){en||(fn(n),d()?(a++,p()?(e.clap.play(),pn(!0)):C(!1)):hn(n)&&pn(!1),t.forEach((function(e){null!==e.popStartTime&&(e.isDisplayed=n<e.popEndTime)})))}function mn(n,e){return null!==n.popStartTime?(e-n.popStartTime)/(1e3*K):1}function vn(n){return Math.round((rn-n)/1e3)}function hn(n){return n>rn}return{initialiseGame:M,initialiseNewLevel:C,getCirclesToDraw:c,gameIsWon:s,gameIsLost:f,onGameClick:D,getCurrentTargetText:m,isPieceSelected:h,getPieceCentre:z,updatePiecePath:U,onGameTick:dn,getPieceAlpha:mn,getCountdownSeconds:vn}}var f={name:"Game",setup:function(){var n,e=new DOMPointReadOnly(250,250),a=new Audio(t("ac02")),o=new Audio(t("6d7c")),i=new Audio(t("97a1")),u=new Audio(t("6c9a")),l=s(e,{pop:a,clap:o,error:i,boo:u});function f(){return p.apply(this,arguments)}function p(){return p=Object(c["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FontFace("CanvasFont","url(".concat(t("47de"),")")),e.next=3,r.load();case 3:document.fonts.add(r),a=document.getElementById("gameCanvas"),n=a.getContext("2d");case 6:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function d(n){v.controls=!1,l.initialiseGame(n),window.requestAnimationFrame(h)}function m(n,e,t,r,a){n.fillStyle=r,n.font=a;var o=n.measureText(e);n.fillText(e,t.x-o.width/2,t.y+(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)/2)}Object(r["f"])(Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:f();case 1:case"end":return n.stop()}}),n)}))));var v=Object(r["h"])({controls:!0});function h(){try{var t=new Date;n.clearRect(0,0,500,500),l.onGameTick(t),l.gameIsWon()?(m(n,"✓",e,"green","72px Impact"),v.controls=!0):l.gameIsLost()?(m(n,"✗",e,"red","72px Impact"),v.controls=!0):(l.getCirclesToDraw().forEach((function(e,r){if(e.isDisplayed){var a=l.getPieceAlpha(e,t);n.fillStyle=l.isPieceSelected(e)?"rgba(0, 255, 0, ".concat(a,")"):"rgba(255, 0, 0, ".concat(a,")");var o=l.getPieceCentre(r,t);n.fill(l.updatePiecePath(e,o,t)),m(n,"".concat(e.data.calcNumber),o,"rgba(0, 0, 255, ".concat(a,")"),"32px CanvasFont")}})),m(n,l.getCurrentTargetText(),e,"black","48px CanvasFont"),m(n,"".concat(l.getCountdownSeconds(t)),new DOMPointReadOnly(30,30),"black","32px CanvasFont"),window.requestAnimationFrame(h))}catch(r){console.error(r)}}function b(e){l.onGameClick(n,e.offsetX,e.offsetY)}var g=function(){return d("easy")},y=function(){return d("medium")},w=function(){return d("hard")};return{gameCanvasClick:b,displayState:v,startEasyGame:g,startMediumGame:y,startHardGame:w}}};f.render=u;var p=f,d={name:"App",components:{Game:p}};t("d123");d.render=a;var m=d;Object(r["b"])(m).mount("#app")},"6c9a":function(n,e,t){n.exports=t.p+"media/boo.0015b906.wav"},"6d7c":function(n,e,t){n.exports=t.p+"media/clap.5ab15649.wav"},"860d":function(n,e,t){},"97a1":function(n,e,t){n.exports=t.p+"media/error.35f9935b.wav"},ac02:function(n,e,t){n.exports=t.p+"media/pop.d8e85178.wav"},d123:function(n,e,t){"use strict";t("860d")}});
//# sourceMappingURL=app.641d4475.js.map